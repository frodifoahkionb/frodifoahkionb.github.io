<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BÃ i Thi Ká»¹ NÄƒng Sá»‘ng Lá»›p 1 - 30 CÃ¢u SiÃªu Vui ğŸŒŸ</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #a1c4fd, #c2e9fb);
      color: #333;
      margin: 0;
      padding: 20px;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .container {
      background: white;
      border-radius: 25px;
      padding: 30px;
      max-width: 700px;
      width: 100%;
      box-shadow: 0 15px 40px rgba(0,0,0,0.15);
      text-align: center;
      position: relative;
    }
    h1 {
      color: #2ecc71;
      margin-bottom: 10px;
      font-size: 2.4em;
    }
    .progress {
      font-size: 1.4em;
      color: #555;
      margin-bottom: 20px;
    }
    .question {
      font-size: 1.7em;
      margin: 25px 0;
      font-weight: bold;
      color: #2c3e50;
    }
    .options {
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin: 25px 0;
    }
    .option {
      background: #f0f8ff;
      border: 3px solid #b3d4fc;
      border-radius: 20px;
      padding: 20px;
      font-size: 1.5em;
      cursor: pointer;
      transition: all 0.3s;
    }
    .option:hover {
      background: #e0f2ff;
      border-color: #3498db;
      transform: scale(1.05);
    }
    .option.selected {
      background: #3498db;
      color: white;
      border-color: #2980b9;
    }
    button {
      background: #e67e22;
      color: white;
      border: none;
      padding: 18px 60px;
      font-size: 1.5em;
      border-radius: 50px;
      cursor: pointer;
      margin: 20px 10px 10px;
      transition: background 0.3s;
    }
    button:hover {
      background: #d35400;
    }
    button:disabled {
      background: #bdc3c7;
      cursor: not-allowed;
    }
    #feedback {
      margin: 25px 0;
      padding: 25px;
      border-radius: 20px;
      font-size: 1.5em;
      min-height: 100px;
    }
    .correct { background: #d4edda; color: #155724; }
    .wrong   { background: #f8d7da; color: #721c24; }
    #result {
      display: none;
      margin-top: 40px;
    }
    .emoji-big {
      font-size: 5em;
      margin: 20px 0;
    }

    /* Toast Notification CSS */
    #toast-container {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .toast {
      background: #333;
      color: white;
      padding: 15px 25px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      font-size: 1.3em;
      max-width: 350px;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.4s ease;
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .toast.show {
      opacity: 1;
      transform: translateY(0);
    }
    .toast.correct {
      background: #2ecc71;
    }
    .toast.wrong {
      background: #e74c3c;
    }
    .toast span.emoji {
      font-size: 1.8em;
    }

    @media (max-width: 600px) {
      .container { padding: 20px; }
      h1 { font-size: 2em; }
      .question { font-size: 1.5em; }
      .toast { font-size: 1.1em; padding: 12px 20px; max-width: 90%; }
    }
  </style>
</head>
<body>

<div class="container">
  <h1>Luyá»‡n Táº­p Ká»¹ NÄƒng Sá»‘ng Lá»›p 1 - 30 CÃ¢u ğŸŒˆ</h1>
  <div class="progress">CÃ¢u <span id="current">1</span> / 30</div>
  
  <div id="quiz">
    <div class="question" id="questionText"></div>
    <div class="options" id="options"></div>
    <button id="submitBtn" disabled>Ná»™p Ä‘Ã¡p Ã¡n</button>
    <div id="feedback"></div>
  </div>
  
  <div id="result">
    <div class="emoji-big" id="emojiResult"></div>
    <h2 id="scoreText"></h2>
    <p id="message"></p>
    <button onclick="location.reload()">ChÆ¡i láº¡i nÃ o! ğŸ‰</button>
  </div>
</div>

<!-- Toast container -->
<div id="toast-container"></div>

<script>
  const quizData = [
  // 1-10: An toÃ n giao thÃ´ng
  { q: "Äi bá»™ trÃªn Ä‘Æ°á»ng, em pháº£i Ä‘i á»Ÿ Ä‘Ã¢u?", opts: ["Giá»¯a lÃ²ng Ä‘Æ°á»ng", "TrÃªn vá»‰a hÃ¨ hoáº·c sÃ¡t lá» bÃªn pháº£i", "BÃªn trÃ¡i Ä‘Æ°á»ng"], ans: 1, expl: "ChÃ­nh xÃ¡c! Vá»‰a hÃ¨ lÃ  dÃ nh cho ngÆ°á»i Ä‘i bá»™ Ä‘á»ƒ Ä‘áº£m báº£o an toÃ n ğŸš¶" },
  { q: "Khi sang Ä‘Æ°á»ng mÃ  khÃ´ng cÃ³ Ä‘Ã¨n tÃ­n hiá»‡u, em nÃªn...", opts: ["Cháº¡y tháº­t nhanh", "Nhá» ngÆ°á»i lá»›n dáº«n sang vÃ  quan sÃ¡t ká»¹", "Vá»«a Ä‘i vá»«a xem Ä‘iá»‡n thoáº¡i"], ans: 1, expl: "An toÃ n! LuÃ´n cáº§n sá»± giÃºp Ä‘á»¡ cá»§a ngÆ°á»i lá»›n khi sang Ä‘Æ°á»ng ğŸ›£ï¸" },
  { q: "Ngá»“i trÃªn xe mÃ¡y, em pháº£i lÃ m gÃ¬?", opts: ["Äá»©ng lÃªn yÃªn xe", "Äá»™i mÅ© báº£o hiá»ƒm vÃ  bÃ¡m cháº·t ngÆ°á»i lá»›n", "KhÃ´ng Ä‘á»™i mÅ©"], ans: 1, expl: "ÄÃºng! MÅ© báº£o hiá»ƒm báº£o vá»‡ Ä‘áº§u em náº¿u lá»¡ bá»‹ ngÃ£ ğŸª–" },
  { q: "Khi ngá»“i trong xe Ã´ tÃ´, em nÃªn...", opts: ["ThÃ² Ä‘áº§u ra cá»­a sá»•", "Tháº¯t dÃ¢y an toÃ n vÃ  ngá»“i yÃªn", "Nghá»‹ch tay náº¯m cá»­a"], ans: 1, expl: "ChÃ­nh xÃ¡c! Tháº¯t dÃ¢y an toÃ n giÃºp báº£o vá»‡ em khi xe dá»«ng gáº¥p ğŸš˜" },
  { q: "ÄÃ¨n tÃ­n hiá»‡u giao thÃ´ng mÃ u xanh cÃ³ Ã½ nghÄ©a gÃ¬?", opts: ["Dá»«ng láº¡i", "ÄÆ°á»£c phÃ©p Ä‘i", "Äi cháº­m láº¡i"], ans: 1, expl: "ÄÃºng! ÄÃ¨n xanh lÃ  lá»‡nh cho phÃ©p chÃºng ta di chuyá»ƒn ğŸŸ¢" },
  { q: "Em cÃ³ Ä‘Æ°á»£c chÆ¡i Ä‘Ã¡ bÃ³ng dÆ°á»›i lÃ²ng Ä‘Æ°á»ng khÃ´ng?", opts: ["CÃ³ vÃ¬ Ä‘Æ°á»ng rá»™ng", "KhÃ´ng, vÃ¬ ráº¥t nguy hiá»ƒm do xe cá»™ Ä‘i láº¡i", "Chá»‰ chÆ¡i lÃºc váº¯ng xe"], ans: 1, expl: "ÄÃºng! LÃ²ng Ä‘Æ°á»ng chá»‰ dÃ nh cho phÆ°Æ¡ng tiá»‡n giao thÃ´ng thÃ´i âš½" },
  { q: "Gáº·p Ä‘Ã¨n vÃ ng, ngÆ°á»i lÃ¡i xe nÃªn lÃ m gÃ¬?", opts: ["PhÃ³ng nhanh hÆ¡n", "Äi cháº­m láº¡i vÃ  chuáº©n bá»‹ dá»«ng", "Quay Ä‘áº§u xe"], ans: 1, expl: "Giá»i! ÄÃ¨n vÃ ng lÃ  tÃ­n hiá»‡u chuyá»ƒn giao Ä‘á»ƒ má»i ngÆ°á»i chuáº©n bá»‹ dá»«ng ğŸŸ¡" },
  { q: "Táº¡i sao khÃ´ng nÃªn Ä‘i dÃ n hÃ ng ngang trÃªn Ä‘Æ°á»ng?", opts: ["Äá»ƒ nÃ³i chuyá»‡n dá»… hÆ¡n", "GÃ¢y cáº£n trá»Ÿ giao thÃ´ng vÃ  dá»… tai náº¡n", "Cho Ä‘áº¹p Ä‘á»™i hÃ¬nh"], ans: 1, expl: "ChÃ­nh xÃ¡c! Äi Ä‘Ãºng hÃ ng lá»‘i giÃºp Ä‘Æ°á»ng thÃ´ng thoÃ¡ng hÆ¡n ğŸš²" },
  { q: "Khi Ä‘i xe buÃ½t, em nÃªn...", opts: ["Äá»©ng gáº§n cá»­a ra vÃ o", "Ngá»“i vÃ o chá»— vÃ  nhÆ°á»ng gháº¿ cho ngÆ°á»i giÃ ", "Cháº¡y nháº£y trÃªn xe"], ans: 1, expl: "Lá»‹ch sá»± vÃ  an toÃ n! NhÆ°á»ng gháº¿ lÃ  hÃ nh Ä‘á»™ng Ä‘áº¹p trÃªn xe cÃ´ng cá»™ng ğŸšŒ" },
  { q: "Biá»ƒn bÃ¡o hÃ¬nh trÃ²n, viá»n Ä‘á», cÃ³ gáº¡ch chÃ©o á»Ÿ giá»¯a lÃ  gÃ¬?", opts: ["Biá»ƒn bÃ¡o chá»‰ dáº«n", "Biá»ƒn bÃ¡o cáº¥m", "Biá»ƒn bÃ¡o nguy hiá»ƒm"], ans: 1, expl: "ÄÃºng! Khi tháº¥y biá»ƒn nÃ y, em khÃ´ng Ä‘Æ°á»£c lÃ m viá»‡c ghi trÃªn biá»ƒn ğŸš«" },

  // 11-20: PhÃ²ng trÃ¡nh báº¯t cÃ³c vÃ  NgÆ°á»i láº¡
  { q: "Má»™t ngÆ°á»i láº¡ tá»± xÆ°ng lÃ  báº¡n cá»§a bá»‘ vÃ  báº£o Ä‘Æ°a em vá»?", opts: ["Äi theo luÃ´n", "Tuyá»‡t Ä‘á»‘i khÃ´ng Ä‘i vÃ  gá»i Ä‘iá»‡n há»i bá»‘", "Láº¥y káº¹o rá»“i Ä‘i"], ans: 1, expl: "ThÃ´ng minh! LuÃ´n cáº£nh giÃ¡c vá»›i ngÆ°á»i láº¡ Ä‘á»ƒ báº£o vá»‡ mÃ¬nh ğŸš«" },
  { q: "Náº¿u bá»‹ má»™t ngÆ°á»i láº¡ kÃ©o tay lÃ´i Ä‘i, em nÃªn lÃ m gÃ¬?", opts: ["Im láº·ng", "HÃ©t to 'Báº¯t cÃ³c, cá»©u chÃ¡u vá»›i' vÃ  vÃ¹ng cháº¡y", "KhÃ³c nhá»"], ans: 1, expl: "ÄÃºng! HÃ©t to giÃºp thu hÃºt sá»± chÃº Ã½ cá»§a má»i ngÆ°á»i xung quanh ğŸ“£" },
  { q: "Em cÃ³ nÃªn nháº­n quÃ  hoáº·c Ä‘á»“ Äƒn tá»« ngÆ°á»i khÃ´ng quen?", opts: ["CÃ³, náº¿u Ä‘á»“ Äƒn ngon", "KhÃ´ng, pháº£i xin phÃ©p bá»‘ máº¹ trÆ°á»›c", "Láº¥y rá»“i vá»©t Ä‘i"], ans: 1, expl: "ChÃ­nh xÃ¡c! Äá»“ Äƒn tá»« ngÆ°á»i láº¡ cÃ³ thá»ƒ chá»©a thuá»‘c mÃª nguy hiá»ƒm ğŸ­" },
  { q: "Khi á»Ÿ nhÃ  má»™t mÃ¬nh mÃ  cÃ³ ngÆ°á»i láº¡ gÃµ cá»­a?", opts: ["Má»Ÿ cá»­a ngay", "KhÃ´ng má»Ÿ cá»­a vÃ  gá»i Ä‘iá»‡n cho bá»‘ máº¹", "Há»i xem lÃ  ai rá»“i má»Ÿ"], ans: 1, expl: "An toÃ n! Chá»‰ má»Ÿ cá»­a khi cÃ³ bá»‘ máº¹ á»Ÿ nhÃ  hoáº·c ngÆ°á»i cá»±c ká»³ thÃ¢n thiáº¿t ğŸ " },
  { q: "Quy táº¯c 'VÃ¹ng Ä‘á»“ lÃ³t' dáº¡y em Ä‘iá»u gÃ¬?", opts: ["CÃ¡ch máº·c quáº§n Ã¡o", "KhÃ´ng cho ngÆ°á»i láº¡ cháº¡m vÃ o vÃ¹ng kÃ­n", "CÃ¡ch Ä‘i bÆ¡i"], ans: 1, expl: "Ráº¥t quan trá»ng! CÆ¡ thá»ƒ em lÃ  cá»§a em, khÃ´ng ai Ä‘Æ°á»£c phÃ©p xÃ¢m pháº¡m âœ‹" },
  { q: "Náº¿u bá»‹ láº¡c á»Ÿ siÃªu thá»‹, em nÃªn tÃ¬m ai giÃºp Ä‘á»¡?", opts: ["TÃ¬m má»™t ngÆ°á»i láº¡ báº¥t ká»³", "TÃ¬m chÃº báº£o vá»‡ hoáº·c cÃ´ nhÃ¢n viÃªn quáº§y thu ngÃ¢n", "Cháº¡y ra ngoÃ i cá»­a"], ans: 1, expl: "ThÃ´ng minh! NgÆ°á»i cÃ³ Ä‘á»“ng phá»¥c sáº½ giÃºp em tÃ¬m láº¡i bá»‘ máº¹ nhanh nháº¥t ğŸ¬" },
  { q: "Em nÃªn ghi nhá»› Ä‘iá»u gÃ¬ Ä‘á»ƒ phÃ²ng khi bá»‹ láº¡c?", opts: ["TÃªn mÃ³n Äƒn yÃªu thÃ­ch", "Sá»‘ Ä‘iá»‡n thoáº¡i bá»‘ máº¹ vÃ  Ä‘á»‹a chá»‰ nhÃ ", "TÃªn báº¡n thÃ¢n"], ans: 1, expl: "ÄÃºng! ÄÃ¢y lÃ  'thÃ´ng tin cá»©u há»™' quan trá»ng nháº¥t cá»§a em ğŸ“±" },
  { q: "Náº¿u ngÆ°á»i láº¡ há»i Ä‘Æ°á»ng, em nÃªn lÃ m gÃ¬?", opts: ["Dáº«n há» Ä‘i Ä‘áº¿n táº­n nÆ¡i", "Chá»‰ Ä‘Æ°á»ng báº±ng tay vÃ  Ä‘á»©ng xa há»", "Lá» Ä‘i"], ans: 1, expl: "Tá»‘t! GiÃºp ngÆ°á»i lÃ  tá»‘t nhÆ°ng pháº£i giá»¯ khoáº£ng cÃ¡ch an toÃ n ğŸ“" },
  { q: "Táº¡i sao khÃ´ng nÃªn Ä‘i chÆ¡i má»™t mÃ¬nh á»Ÿ nÆ¡i váº¯ng váº»?", opts: ["VÃ¬ sá»£ ma", "Dá»… gáº·p káº» xáº¥u vÃ  khÃ´ng ai giÃºp Ä‘Æ°á»£c", "VÃ¬ chÃ¡n"], ans: 1, expl: "ChÃ­nh xÃ¡c! HÃ£y luÃ´n Ä‘i cÃ¹ng báº¡n bÃ¨ hoáº·c ngÆ°á»i lá»›n nhÃ© ğŸŒ²" },
  { q: "Khi cÃ³ ngÆ°á»i láº¡ chá»¥p áº£nh em mÃ  em khÃ´ng thÃ­ch?", opts: ["Äá»©ng im chá»¥p", "NÃ³i 'KhÃ´ng' vÃ  bá» Ä‘i chá»— khÃ¡c", "CÆ°á»i tÆ°Æ¡i"], ans: 1, expl: "ÄÃºng! Em cÃ³ quyá»n tá»« chá»‘i náº¿u cáº£m tháº¥y khÃ´ng thoáº£i mÃ¡i ğŸ“¸" },

  // 21-30: An toÃ n táº¡i nhÃ  (Lá»­a, Äiá»‡n, NÆ°á»›c)
  { q: "Khi tháº¥y cÃ³ khÃ³i vÃ  mÃ¹i khÃ©t trong nhÃ ?", opts: ["Láº¡i gáº§n xem lÃ  gÃ¬", "BÃ¡o ngÆ°á»i lá»›n ngay vÃ  cháº¡y ra ngoÃ i", "ÄÃ³ng cá»­a láº¡i"], ans: 1, expl: "ChÃ­nh xÃ¡c! Cháº¡y thoÃ¡t thÃ¢n vÃ  bÃ¡o Ä‘á»™ng lÃ  Æ°u tiÃªn hÃ ng Ä‘áº§u ğŸ”¥" },
  { q: "Äá»ƒ thoÃ¡t khá»i Ä‘Ã¡m chÃ¡y cÃ³ nhiá»u khÃ³i, em nÃªn...", opts: ["Äá»©ng tháº³ng ngÆ°á»i", "BÃ² sÃ¡t máº·t Ä‘áº¥t vÃ  dÃ¹ng khÄƒn Æ°á»›t che mÅ©i", "Nháº£y qua cá»­a sá»•"], ans: 1, expl: "ÄÃºng! KhÃ³i Ä‘á»™c thÆ°á»ng bay á»Ÿ trÃªn cao, bÃ² tháº¥p giÃºp em cÃ³ oxy ğŸ’¨" },
  { q: "Em cÃ³ Ä‘Æ°á»£c tá»± Ã½ nghá»‹ch á»• cáº¯m Ä‘iá»‡n khÃ´ng?", opts: ["CÃ³, náº¿u tay khÃ´", "Tuyá»‡t Ä‘á»‘i khÃ´ng, vÃ¬ ráº¥t dá»… bá»‹ Ä‘iá»‡n giáº­t", "Chá»‰ dÃ¹ng tÄƒm chá»c vÃ o"], ans: 1, expl: "Nguy hiá»ƒm! Äiá»‡n cÃ³ thá»ƒ lÃ m em bá»‹ thÆ°Æ¡ng náº·ng hoáº·c tá»­ vong âš¡" },
  { q: "Khi tay Ä‘ang Æ°á»›t, em cÃ³ Ä‘Æ°á»£c báº­t cÃ´ng táº¯c Ä‘iá»‡n?", opts: ["ÄÆ°á»£c", "KhÃ´ng, vÃ¬ nÆ°á»›c dáº«n Ä‘iá»‡n gÃ¢y giáº­t", "Chá»‰ báº­t báº±ng chÃ¢n"], ans: 1, expl: "ChÃ­nh xÃ¡c! LuÃ´n lau khÃ´ tay trÆ°á»›c khi cháº¡m vÃ o thiáº¿t bá»‹ Ä‘iá»‡n ğŸ’§" },
  { q: "Tháº¥y em bÃ© Ä‘ang cáº§m dao, kÃ©o sáº¯c nhá»n?", opts: ["Láº¥y ra nghá»‹ch cÃ¹ng", "Nháº¹ nhÃ ng khuyÃªn em bá» xuá»‘ng vÃ  bÃ¡o ngÆ°á»i lá»›n", "Cá»• vÅ© em"], ans: 1, expl: "Giá»i! Váº­t sáº¯c nhá»n ráº¥t dá»… gÃ¢y Ä‘á»©t tay, cáº§n Ä‘á»ƒ xa táº§m tay tráº» em ğŸ”ª" },
  { q: "NÆ°á»›c sÃ´i trong phÃ­ch cÃ³ thá»ƒ gÃ¢y ra chuyá»‡n gÃ¬?", opts: ["LÃ m em mÃ¡t", "GÃ¢y bá»ng náº·ng náº¿u Ä‘á»• vÃ o ngÆ°á»i", "LÃ m em cao lá»›n"], ans: 1, expl: "ÄÃºng! HÃ£y luÃ´n cáº©n tháº­n vá»›i nhá»¯ng váº­t nÃ³ng trong báº¿p â˜•" },
  { q: "Em cÃ³ Ä‘Æ°á»£c tá»± Ã½ uá»‘ng thuá»‘c khi khÃ´ng cÃ³ ngÆ°á»i lá»›n?", opts: ["ÄÆ°á»£c, náº¿u em tháº¥y Ä‘au", "KhÃ´ng, pháº£i cÃ³ ngÆ°á»i lá»›n hÆ°á»›ng dáº«n", "Uá»‘ng vÃ¬ thuá»‘c ngá»t"], ans: 1, expl: "Nguy hiá»ƒm! Uá»‘ng sai thuá»‘c cÃ³ thá»ƒ gÃ¢y ngá»™ Ä‘á»™c ğŸ’Š" },
  { q: "Khi Ä‘i bÆ¡i, em cáº§n chÃº Ã½ Ä‘iá»u gÃ¬?", opts: ["Nháº£y xuá»‘ng nÆ°á»›c ngay", "Pháº£i cÃ³ ngÆ°á»i lá»›n giÃ¡m sÃ¡t vÃ  khá»Ÿi Ä‘á»™ng ká»¹", "BÆ¡i má»™t mÃ¬nh"], ans: 1, expl: "An toÃ n! Chuá»™t rÃºt hoáº·c Ä‘uá»‘i nÆ°á»›c ráº¥t nguy hiá»ƒm náº¿u á»Ÿ má»™t mÃ¬nh ğŸŠ" },
  { q: "Tháº¥y báº¡n Ä‘ang nghá»‹ch lá»­a, em nÃªn lÃ m gÃ¬?", opts: ["Láº¥y thÃªm cá»§i", "KhuyÃªn báº¡n dá»«ng láº¡i vÃ  bÃ¡o ngÆ°á»i lá»›n", "Chá»¥p áº£nh báº¡n"], ans: 1, expl: "ÄÃºng! Má»™t Ä‘á»‘m lá»­a nhá» cÃ³ thá»ƒ gÃ¢y ra vá»¥ chÃ¡y lá»›n ğŸ•¯ï¸" },
  { q: "Sá»‘ Ä‘iá»‡n thoáº¡i gá»i cá»©u há»a lÃ  sá»‘ nÃ o?", opts: ["113", "114", "115"], ans: 1, expl: "ChÃ­nh xÃ¡c! 114 lÃ  sá»‘ gá»i cÃ¡c chÃº lÃ­nh cá»©u há»a dÅ©ng cáº£m ğŸš’" }
];

  let current = 0;
  let score = 0;
  const total = quizData.length;

  const qText = document.getElementById("questionText");
  const optsDiv = document.getElementById("options");
  const submitBtn = document.getElementById("submitBtn");
  const feedback = document.getElementById("feedback");
  const currentEl = document.getElementById("current");
  const quiz = document.getElementById("quiz");
  const result = document.getElementById("result");
  const emojiRes = document.getElementById("emojiResult");
  const scoreText = document.getElementById("scoreText");
  const msg = document.getElementById("message");
  const toastContainer = document.getElementById("toast-container");

  let selectedIndex = -1;

  // HÃ m táº¡o toast
  function showToast(text, type = 'info') {
    const toast = document.createElement("div");
    toast.className = `toast ${type}`;
    toast.innerHTML = `<span class="emoji">${type === 'correct' ? 'âœ…' : 'âŒ'}</span> ${text}`;
    toastContainer.appendChild(toast);

    setTimeout(() => toast.classList.add("show"), 100);
    setTimeout(() => {
      toast.classList.remove("show");
      setTimeout(() => toast.remove(), 400);
    }, 3000);
  }

  function loadQuestion() {
    const item = quizData[current];
    qText.textContent = item.q;
    optsDiv.innerHTML = "";
    feedback.innerHTML = "";
    submitBtn.disabled = true;
    currentEl.textContent = current + 1;

    item.opts.forEach((opt, i) => {
      const div = document.createElement("div");
      div.className = "option";
      div.textContent = opt;
      div.onclick = () => {
        document.querySelectorAll(".option").forEach(el => el.classList.remove("selected"));
        div.classList.add("selected");
        selectedIndex = i;
        submitBtn.disabled = false;  // Báº­t nÃºt khi Ä‘Ã£ chá»n
      };
      optsDiv.appendChild(div);
    });
  }

  submitBtn.onclick = () => {
    const item = quizData[current];
    const isCorrect = selectedIndex === item.ans;

    if (isCorrect) score++;

    feedback.className = isCorrect ? "feedback correct" : "feedback wrong";
    feedback.innerHTML = isCorrect 
      ? `ÄÃºng rá»“i bÃ© yÃªu! ${item.expl} âœ…` 
      : `Sai rá»“i nhÃ©! ÄÃ¡p Ã¡n Ä‘Ãºng: ${item.opts[item.ans]}<br>${item.expl} ğŸ˜Š`;

    const toastText = isCorrect 
      ? item.expl 
      : `ÄÃ¡p Ã¡n Ä‘Ãºng: ${item.opts[item.ans]}. ${item.expl}`;
    showToast(toastText, isCorrect ? 'correct' : 'wrong');

    submitBtn.disabled = true;

    // Chuyá»ƒn cÃ¢u sau 2 giÃ¢y
    setTimeout(() => {
      current++;
      if (current < total) {
        loadQuestion();
      } else {
        showResult();
      }
    }, 2000);
  };

  function showResult() {
    quiz.style.display = "none";
    result.style.display = "block";

    scoreText.textContent = `Em Ä‘Æ°á»£c ${score} / ${total} Ä‘iá»ƒm! ğŸˆ`;

    if (score >= 25) {
      emojiRes.textContent = "ğŸ¥³ SiÃªu sao ká»¹ nÄƒng sá»‘ng!";
      msg.textContent = "Em giá»i quÃ¡! Em biáº¿t tá»± láº­p, an toÃ n vÃ  yÃªu thÆ°Æ¡ng báº¡n bÃ¨ rá»“i Ä‘áº¥y! ğŸŒŸ";
    } else if (score >= 18) {
      emojiRes.textContent = "ğŸ˜Š Ráº¥t tuyá»‡t vá»i!";
      msg.textContent = "Em Ä‘Ã£ cá»‘ gáº¯ng nhiá»u! Tiáº¿p tá»¥c rÃ¨n luyá»‡n nhÃ© bÃ© yÃªu ğŸ’–";
    } else {
      emojiRes.textContent = "ğŸ˜„ Cá»‘ lÃªn nÃ o!";
      msg.textContent = "KhÃ´ng sao Ä‘Ã¢u! Quan trá»ng lÃ  em há»c Ä‘Æ°á»£c nhiá»u Ä‘iá»u hay. ChÆ¡i tiáº¿p nhÃ©! ğŸš€";
    }
  }

  loadQuestion();
</script>
</body>
</html>